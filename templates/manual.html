<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>使い方マニュアル - 画像結合アプリ</title>
    <style>
        body { 
            font-family: sans-serif; 
            margin: 0 auto;
            padding: 2em;
            max-width: 800px; 
            line-height: 1.6;
        }
        h1, h2, h3 { 
            border-bottom: 2px solid #007bff; 
            padding-bottom: 0.3em; 
        }
        .back-link {
            margin-top: 2em;
            font-weight: bold;
        }
        code {
            background-color: #f0f0f0;
            padding: 2px 4px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>画像結合アプリ ご利用マニュアル</h1>
    <p>このWebアプリは、複数の画像をアップロードし、指定したレイアウトで一つの画像に結合するためのツールです。</p>

    <h2>基本的な使い方</h2>
    
    <h3>1. 画像を選択してください 🖼️</h3>
    <p>最大5枚まで画像を選択できます。「画像〇を選択」と書かれたエリアをクリックすると、ファイル選択ダイアログが開きます。画像を選択すると、クリックしたエリアがその画像のサムネイルに切り替わり、下にはファイル名が表示されます。</p>

    <h3>2. 出力レイアウトを選択してください 📐</h3>
    <p>作成したい画像の最終的なレイアウトを3種類から選択します。</p>
    <ul>
        <li><strong>2x2</strong>: 4枚の画像を2x2のグリッドに配置します（画像5は使用されません）。</li>
        <li><strong>4x1</strong>: 4枚の画像を横一列に配置します（画像5は使用されません）。</li>
        <li><strong>5x1</strong>: 5枚の画像を横一列に配置します。</li>
    </ul>

    <h3>3. プレビュー 🖥️</h3>
    <p>選択した画像とレイアウトが、最終的にどのように結合されるかをリアルタイムで表示します。縦長の画像は、このプレビュー上で自動的に回転されます。</p>

    <h3>4. 圧縮レベルを選択してください ⚙️</h3>
    <p>ダウンロードされるJPEG画像の品質（ファイルサイズ）を選択します。「おすすめ」が画質とファイルサイズのバランスが取れた設定です。</p>

    <h3>5. 画像の結合とクリア 🔘</h3>
    <ul>
        <li><strong>画像を結合する (青いボタン)</strong>: クリックすると画像が結合され、完成した画像のダウンロードが開始されます。</li>
        <li><strong>画像をクリアする (グレーのボタン)</strong>: クリックすると、選択したすべての画像がリセットされます。</li>
    </ul>

    <h2>補足事項</h2>
    <ul>
        <li><strong>空きスロットの自動補完</strong>: 保存時に画像が選択されていないスロットがあった場合、その部分はランダムな単色で自動的に塗りつぶされます。</li>
        <li><strong>縦長画像の自動回転</strong>: 幅より高さが大きい「縦長」の画像は、プレビューおよび最終的な画像で自動的に反時計回りに90度回転され、横長の枠に収められます。</li>
        <li><strong>ファイル名</strong>: 保存されるファイル名は<code>レイアウト_年月日時分秒_圧縮レベル.jpg</code>という形式になります。（例: <code>5x1_250804103055_M.jpg</code>）日時は日本時間です。</li>
    </ul>

    <h2>よくある質問 (FAQ)</h2>
    <ul>
        <li><strong>Q: サイトにアクセスした最初の読み込みが遅いのですが？</strong><br>
            A: はい、これはRenderの無料プランの仕様です。一定時間アクセスがないとアプリが「スリープ状態」になり、次のアクセスで起動し直すために時間がかかります。一度起動すれば、その後は速く動作します。</li>
    </ul>

    <div class="back-link">
        <a href="/">&laquo; アプリに戻る</a>
    </div>

</body>
</html>
